package root;

import java.util.*;

public class Employe extends Personne
{
	/*** CST d'instance ***/
	private final GregorianCalendar dateEmbauche;
	
	/*** Attributs d'instance ***/
	private float salaire;
	
	protected Employe(Personne hPersonne, GregorianCalendar embauche, float salaire)
	{
		super(hPersonne);
		this.dateEmbauche = embauche;
		this.salaire = salaire;
	}
	
	public Employe createEmploye(Personne hPersonne, GregorianCalendar embauche, float salaire)
	{
		Employe toReturn = null;
		
		if(embauche.get(Calendar.YEAR) > (hPersonne.getDateNaissance().get(Calendar.YEAR) + 16) &&
				embauche.get(Calendar.YEAR) < (hPersonne.getDateNaissance().get(Calendar.YEAR) + 65))
			toReturn = new Employe(hPersonne, embauche, salaire);
		
		return toReturn;
	}
	
	public void augmenteSalaire(float percentage)
	{
		this.salaire = this.salaire*(1 + percentage/100);
	}

	public float getSalaire() {
		return this.salaire;
	}

	public GregorianCalendar getDateEmbauche() {
		return this.dateEmbauche;
	}
	
	public int calculAnnuite()
	{
		int curYear = Calendar.getInstance().get(Calendar.YEAR);
		return curYear - this.dateEmbauche.get(Calendar.YEAR);
	}
}
